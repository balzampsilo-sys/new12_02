# üß™ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç?

–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test_optimization.sh` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–µ–ø–ª–æ—è –∫–ª–∏–µ–Ω—Ç–æ–≤:
- **–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 188 —Å–µ–∫—É–Ω–¥
- **–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 8-10 —Å–µ–∫—É–Ω–¥ ‚ö°

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –®–∞–≥ 1: –°–∫–∞—á–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/balzampsilo-sys/new12_02.git
cd new12_02
```

### –®–∞–≥ 2: –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º

```bash
chmod +x test_optimization.sh
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç

```bash
bash test_optimization.sh
```

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏ –ø—Ä–æ–≤–µ–¥—ë—Ç –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Å–∏—Å—Ç–µ–º—ã.

---

## üìä –ß–¢–û –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø?

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- Docker (–≤–µ—Ä—Å–∏—è)
- Docker Compose (–≤–µ—Ä—Å–∏—è)
- Python3 (–≤–µ—Ä—Å–∏—è)
- pip3
- psycopg2 (–¥–ª—è PostgreSQL)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –æ—à–∏–±–∫–∞:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker: https://docs.docker.com/get-docker/
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python: `sudo apt install python3 python3-pip`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ psycopg2: `pip3 install psycopg2-binary`

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
- `base.Dockerfile`
- `build_base_image.sh`
- `requirements.txt`
- `automation/deploy_manager.py`
- `automation/subscription_manager.py`
- `docker-compose.redis.yml`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –æ—à–∏–±–∫–∞:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞: `ls -la`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å–∫–∞—á–∞–ª–∏—Å—å: `git status`

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: PostgreSQL

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –¥–ª—è subscription_manager.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –æ—à–∏–±–∫–∞:**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
```bash
docker compose -f docker-compose.postgres.yml up -d
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π PostgreSQL
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```bash
DATABASE_URL=postgresql://username:password@localhost:5432/database_name
```

#### –í–∞—Ä–∏–∞–Ω—Ç C: –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∞)
–°–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ PostgreSQL, –Ω–æ subscription_manager –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: Docker Network

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ `bot-network` –¥–ª—è —Å–≤—è–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- –ï—Å–ª–∏ network –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí —Å–æ–∑–¥–∞—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç

**–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è):**
```bash
docker network create bot-network
```

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: Redis Shared

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è shared Redis –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–æ—Ç–æ–≤.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–ø—É—â–µ–Ω –ª–∏ Redis
- –ï—Å–ª–∏ –ù–ï–¢ ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–∑ `docker-compose.redis.yml`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (ping)

**–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è):**
```bash
mkdir -p redis_data
docker compose -f docker-compose.redis.yml up -d
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
```bash
docker logs booking-bot-redis-shared
docker exec booking-bot-redis-shared redis-cli ping
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: PONG
```

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 6: –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ booking-bot:base

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥—Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- –ï—Å–ª–∏ –æ–±—Ä–∞–∑ –ù–ï –Ω–∞–π–¥–µ–Ω ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç `build_base_image.sh`
- –ï—Å–ª–∏ –æ–±—Ä–∞–∑ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:** 3-5 –º–∏–Ω—É—Ç (–æ–¥–∏–Ω —Ä–∞–∑)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–±–æ—Ä–∫–µ:**
```
1. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ python:3.11-slim
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ requirements.txt
4. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞
5. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞ booking-bot:base
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞:**
```bash
docker images | grep booking-bot
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: booking-bot   base   ...   ~600MB
```

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 7: –¢–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–ª–æ–π –∫–ª–∏–µ–Ω—Ç–∞

**–≠–¢–û –ì–õ–ê–í–ù–´–ô –¢–ï–°–¢!**

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∑–∞–º–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è.

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```
1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
   - –¢–æ–∫–µ–Ω: TEST_TIMESTAMP_TOKEN
   - Admin ID: —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ
   - –ö–æ–º–ø–∞–Ω–∏—è: Test Company HH:MM:SS

2. –ó–∞–ø—É—Å–∫ deploy_manager.py

3. –î–µ–ø–ª–æ–π –∫–ª–∏–µ–Ω—Ç–∞:
   ‚îú‚îÄ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ subscription_manager
   ‚îú‚îÄ –í—ã–¥–µ–ª–µ–Ω–∏–µ Redis DB
   ‚îú‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (data, logs, backups)
   ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è .env
   ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è docker-compose.yml
   ‚îî‚îÄ –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (docker compose up -d)

4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
   ‚îú‚îÄ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω?
   ‚îî‚îÄ –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫)

5. –û—Ü–µ–Ω–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏:
   ‚úÖ –û—Ç–ª–∏—á–Ω–æ: ‚â§ 10 —Å–µ–∫—É–Ω–¥
   ‚úÖ –•–æ—Ä–æ—à–æ: 11-15 —Å–µ–∫—É–Ω–¥
   ‚ö†Ô∏è  –ú–µ–¥–ª–µ–Ω–Ω–æ: > 15 —Å–µ–∫—É–Ω–¥
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ë–û–¢ –£–°–ü–ï–®–ù–û –†–ê–ó–í–ï–†–ù–£–¢!
   ‚è±Ô∏è  –í—Ä–µ–º—è –¥–µ–ø–ª–æ—è: 8.6 —Å–µ–∫ ‚ö°
   üè¢ –ö–æ–º–ø–∞–Ω–∏—è: Test Company 16:45:23
   üÜî Client ID: abc12345-...
   üê≥ Container: bot-client-abc12345
   üìä Redis DB: 0
   üìÅ Directory: /path/to/clients/abc12345
```

---

## üßπ –û–ß–ò–°–¢–ö–ê –ü–û–°–õ–ï –¢–ï–°–¢–ê

–°–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —É–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.

**–ß—Ç–æ —É–¥–∞–ª—è–µ—Ç—Å—è:**
- –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `bot-client-XXXXXXXX`
- –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ `clients/` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ß—Ç–æ –ù–ï —É–¥–∞–ª—è–µ—Ç—Å—è:**
- –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ `booking-bot:base`
- Redis shared
- PostgreSQL
- Docker network

**–†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps | grep bot-client | awk '{print $1}' | xargs docker stop

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps -a | grep bot-client | awk '{print $1}' | xargs docker rm

# –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
rm -rf clients/*/
```

---

## üìà –ò–ù–¢–ï–†–ü–†–ï–¢–ê–¶–ò–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### ‚úÖ –ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–æ: 15
   ‚ùå –ü—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–≤–∞–ª–µ–Ω–æ: 0
   ‚è±Ô∏è  –û–±—â–µ–µ –≤—Ä–µ–º—è: 245s

‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´!
   –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ ‚ö°

–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è –∫–ª–∏–µ–Ω—Ç–∞: 8.6s
```

### ‚ö†Ô∏è –•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏)
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–æ: 13
   ‚ùå –ü—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–≤–∞–ª–µ–Ω–æ: 0
   ‚è±Ô∏è  –û–±—â–µ–µ –≤—Ä–µ–º—è: 267s

–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è –∫–ª–∏–µ–Ω—Ç–∞: 12.3s
‚ö†Ô∏è  –ú–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ—â—ë

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
  - –ú–µ–¥–ª–µ–Ω–Ω—ã–π –¥–∏—Å–∫
  - –í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CPU
  - –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç)
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–æ: 10
   ‚ùå –ü—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–≤–∞–ª–µ–Ω–æ: 3
   ‚è±Ô∏è  –û–±—â–µ–µ –≤—Ä–µ–º—è: 189s

‚ùå –ï–°–¢–¨ –ü–†–û–ë–õ–ï–ú–´!
   –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤—ã—à–µ

–ù–µ —É–¥–∞–ª–æ—Å—å:
  - –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
  - –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis
  - –°–æ–±—Ä–∞—Ç—å –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑
```

---

## üêõ –¢–ò–ü–ò–ß–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Docker not found"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
newgrp docker

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker --version
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Permission denied"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –î–æ–±–∞–≤–∏—Ç—å —Å–µ–±—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
newgrp docker

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å sudo
sudo bash test_optimization.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "PostgreSQL connection failed"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
docker compose -f docker-compose.postgres.yml up -d

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 5 —Å–µ–∫—É–Ω–¥
sleep 5

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs booking-bot-postgres

# –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç
bash test_optimization.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Network bot-network not found"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é
docker network create bot-network

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker network ls | grep bot-network
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "Redis –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å Redis
docker compose -f docker-compose.redis.yml down
mkdir -p redis_data
docker compose -f docker-compose.redis.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker logs booking-bot-redis-shared
```

### –ü—Ä–æ–±–ª–µ–º–∞ 6: "–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ –∑–∞–≤–∏—Å–ª–∞"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–±–æ—Ä–∫—É (Ctrl+C)

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Docker
docker builder prune -f

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
bash build_base_image.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞ 7: "–î–µ–ø–ª–æ–π –º–µ–¥–ª–µ–Ω–Ω–µ–µ 15 —Å–µ–∫—É–Ω–¥"
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ú–µ–¥–ª–µ–Ω–Ω—ã–π –¥–∏—Å–∫ (HDD –≤–º–µ—Å—Ç–æ SSD)
- –í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CPU (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å `htop`)
- –ú–∞–ª–æ RAM (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å `free -h`)
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã
htop
df -h
free -h

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ (–≤—Ç–æ—Ä–æ–π —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ)
bash test_optimization.sh
```

---

## üîß –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
```bash
# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps -a

# –û–±—Ä–∞–∑—ã
docker images

# Networks
docker network ls

# –õ–æ–≥–∏ Redis
docker logs booking-bot-redis-shared

# –õ–æ–≥–∏ PostgreSQL
docker logs booking-bot-postgres

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM
free -h
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ –±–æ—Ç–∞–º–∏
```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–æ—Ç–æ–≤
docker ps | grep bot-client

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
docker logs bot-client-abc12345 -f

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
docker stop bot-client-abc12345

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
docker start bot-client-abc12345

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
docker restart bot-client-abc12345

# –£–¥–∞–ª–∏—Ç—å –±–æ—Ç–∞
docker stop bot-client-abc12345
docker rm bot-client-abc12345
rm -rf clients/abc12345/
```

### –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–û–°–¢–û–†–û–ñ–ù–û!)
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
docker compose down
docker compose -f docker-compose.redis.yml down
docker compose -f docker-compose.postgres.yml down

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –±–æ—Ç—ã
docker ps -a | grep bot-client | awk '{print $1}' | xargs docker rm -f

# –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑—ã
docker rmi booking-bot:base

# –£–¥–∞–ª–∏—Ç—å volumes
docker volume prune -f

# –£–¥–∞–ª–∏—Ç—å networks
docker network rm bot-network

# –£–¥–∞–ª–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
rm -rf clients/
rm -rf redis_data/
rm -rf postgres_data/
```

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

### –ï—Å–ª–∏ —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:
1. –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã"
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ: `bash test_optimization.sh`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs <container_name>`

### –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª
docker ps -a > debug_containers.txt
docker images > debug_images.txt
docker network ls > debug_networks.txt
docker logs booking-bot-redis-shared > debug_redis.log 2>&1
docker logs booking-bot-postgres > debug_postgres.log 2>&1

# –ó–∞–ø–∞–∫–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
tar -czf debug_logs.tar.gz debug_*.txt debug_*.log
```

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞:

1. **–ò–∑—É—á–∏—Ç–µ OPTIMIZATION_GUIDE.md** - –¥–µ—Ç–∞–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
2. **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ DEPLOYMENT.md** - production –¥–µ–ø–ª–æ–π
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Sales Bot** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–¥–∞–∂–∞ –±–æ—Ç–æ–≤
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- `OPTIMIZATION_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `DEPLOYMENT.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ production –¥–µ–ø–ª–æ—é
- `SCALING_GUIDE.md` - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 100+ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `README.md` - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

---

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ**
