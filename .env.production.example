# =============================================================================
# BOOKING SAAS - PRODUCTION CONFIGURATION
# =============================================================================
# –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –†–ï–ê–õ–¨–ù–´–• –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–æ—Ç–æ–≤
# –ö–æ–ø–∏—Ä—É–π—Ç–µ: cp .env.production.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# üö® –î–õ–Ø WINDOWS –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!
# -----------------------------------------------------------------------------
# –í–∫–ª—é—á–∏—Ç–µ TCP –≤ Docker Desktop:
# Settings > General > "‚úÖ Expose daemon on tcp://localhost:2375 without TLS"
# –ó–∞—Ç–µ–º —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
DOCKER_HOST=tcp://host.docker.internal:2375

# -----------------------------------------------------------------------------
# üì¶ POSTGRESQL - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è subscription manager
# -----------------------------------------------------------------------------
# ‚ö†Ô∏è –ò–ó–ú–ï–ù–ò–¢–ï –ü–ê–†–û–õ–¨ –í PRODUCTION!
DATABASE_URL=postgresql://booking_user:SecurePass2026_ChangeInProduction!@localhost:5432/booking_saas

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã PostgreSQL (–¥–ª—è docker-compose.postgres.yml)
POSTGRES_USER=booking_user
POSTGRES_PASSWORD=SecurePass2026_ChangeInProduction!
POSTGRES_DB=booking_saas

# -----------------------------------------------------------------------------
# üî¥ REDIS SHARED - –û–±—â–∏–π Redis –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–æ—Ç–æ–≤
# -----------------------------------------------------------------------------
# –í—Å–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –û–î–ò–ù Redis —Å —Ä–∞–∑–Ω—ã–º–∏ DB (0-127)
REDIS_ENABLED=True
REDIS_HOST=redis-shared
REDIS_PORT=6379
REDIS_PASSWORD=
# REDIS_DB –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (0, 1, 2, ... 127)

# -----------------------------------------------------------------------------
# ü§ñ MASTER BOT - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# -----------------------------------------------------------------------------
# –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–∏—Å—Ç–µ–º–æ–π —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞:
MASTER_BOT_TOKEN=7898485703:AAFwaU_YOUR_MASTER_BOT_TOKEN_HERE
MASTER_ADMIN_IDS=1720268937

# Master Bot API Token (–¥–ª—è —Å–≤—è–∑–∏ —Å Sales Bot)
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: openssl rand -hex 32
MASTER_API_TOKEN=change_me_to_a_very_long_random_string_minimum_32_chars

# Master Bot API URL
MASTER_BOT_API_URL=http://bot-master-api:8000

# -----------------------------------------------------------------------------
# üí∞ SALES BOT - –ü—Ä–æ–¥–∞–∂–∞ –±–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ YooKassa (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# -----------------------------------------------------------------------------
# –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–¥–∞–∂–∏ –±–æ—Ç–æ–≤ —Å –æ–ø–ª–∞—Ç–æ–π:
SALES_BOT_TOKEN=7123456789:AAFwaU_YOUR_SALES_BOT_TOKEN_HERE

# YooKassa credentials
# –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞: https://yookassa.ru/my/merchant
YOOKASSA_SHOP_ID=123456
YOOKASSA_SECRET_KEY=live_your_secret_key_here

# YooKassa Webhook Secret
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: openssl rand -base64 32
YOOKASSA_WEBHOOK_SECRET=change_me_to_random_webhook_secret

# –ü—É–±–ª–∏—á–Ω—ã–π URL –¥–ª—è webhook (–Ω—É–∂–µ–Ω –¥–æ–º–µ–Ω —Å HTTPS!)
# –ü—Ä–∏–º–µ—Ä: https://yourdomain.com
WEBHOOK_URL=https://yourdomain.com

# –ü–æ–¥–¥–µ—Ä–∂–∫–∞
SUPPORT_USERNAME=YourSupportBot

# –¶–µ–Ω—ã –Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (–≤ —Ä—É–±–ª—è—Ö)
SUBSCRIPTION_PRICE_MONTHLY=2990
SUBSCRIPTION_PRICE_QUARTERLY=7990
SUBSCRIPTION_PRICE_YEARLY=29990

# -----------------------------------------------------------------------------
# ‚öôÔ∏è SYSTEM SETTINGS
# -----------------------------------------------------------------------------
# –¢–∞–π–º–∑–æ–Ω–∞
TIMEZONE=Europe/Moscow

# –ú–∞–∫—Å–∏–º—É–º –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ª–∏–º–∏—Ç Redis DB)
MAX_CLIENTS=128

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
AUTO_DEPLOY_ENABLED=True

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# üìä MONITORING - Sentry (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# -----------------------------------------------------------------------------
SENTRY_ENABLED=False
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# -----------------------------------------------------------------------------
# üíæ BACKUP SETTINGS
# -----------------------------------------------------------------------------
BACKUP_ENABLED=True
BACKUP_DIR=./backups
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30

# =============================================================================
# üìù –ù–ê–°–¢–†–û–ô–ö–ò –î–õ–Ø –ö–õ–ò–ï–ù–¢–°–ö–ò–• –ë–û–¢–û–í (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è)
# =============================================================================
# –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –®–ê–ë–õ–û–ù –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–≤–æ–π .env —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:
#
# BOT_TOKEN=—Ç–æ–∫–µ–Ω_–æ—Ç_–∫–ª–∏–µ–Ω—Ç–∞ (–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ deploy_manager.py)
# ADMIN_IDS=telegram_id_–∫–ª–∏–µ–Ω—Ç–∞ (–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ deploy_manager.py)
# REDIS_DB=0 (–∏–ª–∏ 1, 2, 3... –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è)
# DATABASE_PATH=/app/data/bookings.db
#
# –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞:

# –†–∞–±–æ—á–∏–µ —á–∞—Å—ã (–¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–æ—Ç–æ–≤)
WORK_HOURS_START=9
WORK_HOURS_END=18

# –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
MAX_BOOKINGS_PER_USER=3
CANCELLATION_HOURS=24

# –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (—á–∞—Å—ã –¥–æ –≤—Å—Ç—Ä–µ—á–∏)
REMINDER_HOURS_BEFORE_1H=1
REMINDER_HOURS_BEFORE_2H=2
REMINDER_HOURS_BEFORE_24H=24

# –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (—á–∞—Å—ã –ø–æ—Å–ª–µ –≤—Å—Ç—Ä–µ—á–∏)
FEEDBACK_HOURS_AFTER=2

# –ê–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å)
SERVICE_LOCATION=–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 1

# –ö–∞–ª–µ–Ω–¥–∞—Ä—å
CALENDAR_MAX_MONTHS_AHEAD=3

# Rate Limiting
RATE_LIMIT_MESSAGE=0.5
RATE_LIMIT_CALLBACK=0.3

# =============================================================================
# üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢
# =============================================================================

# 1Ô∏è‚É£ –°–ö–û–ü–ò–†–£–ô–¢–ï –§–ê–ô–õ:
#    cp .env.production.example .env

# 2Ô∏è‚É£ –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (–¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã):
#    - –ò–∑–º–µ–Ω–∏—Ç–µ DATABASE_URL –ø–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
#    - –î–ª—è Windows —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ DOCKER_HOST
#    - –û—Å—Ç–∞–ª—å–Ω–æ–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

# 3Ô∏è‚É£ –ó–ê–ü–£–°–¢–ò–¢–ï –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–£:
#    docker network create bot-network
#    docker compose -f docker-compose.postgres.yml up -d
#    docker compose -f docker-compose.redis.yml up -d

# 4Ô∏è‚É£ –°–û–ë–ï–†–ò–¢–ï –ë–ê–ó–û–í–´–ô –û–ë–†–ê–ó (–æ–¥–∏–Ω —Ä–∞–∑, 3-5 –º–∏–Ω—É—Ç):
#    docker build -f base.Dockerfile -t booking-bot:base .

# 5Ô∏è‚É£ –ó–ê–î–ï–ü–õ–û–ô–¢–ï –ü–ï–†–í–û–ì–û –ö–õ–ò–ï–ù–¢–ê:
#    cd automation
#    python deploy_manager.py \
#      "7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw" \
#      123456789 \
#      --company "–ú–æ—è –∫–æ–º–ø–∞–Ω–∏—è" \
#      --days 30

# 6Ô∏è‚É£ –ü–†–û–í–ï–†–¨–¢–ï:
#    docker ps | findstr bot-client
#    docker logs bot-client-XXXXXXXX

# =============================================================================
# üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
# =============================================================================

# ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–ú–ï–ù–ò–¢–ï –í PRODUCTION:
# - POSTGRES_PASSWORD (–ø–∞—Ä–æ–ª—å –ë–î)
# - MASTER_API_TOKEN (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Master Bot)
# - YOOKASSA_WEBHOOK_SECRET (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Sales Bot)

# ‚ö†Ô∏è –ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï .env –í GIT!
# –§–∞–π–ª .env —É–∂–µ –≤ .gitignore

# ‚ö†Ô∏è –ì–ï–ù–ï–†–ê–¶–ò–Ø –ë–ï–ó–û–ü–ê–°–ù–´–• –ü–ê–†–û–õ–ï–ô:
# Windows (PowerShell):
#   -Join ((65..90) + (97..122) + (48..57) | Get-Random -Count 32 | % {[char]$_})
#
# Linux/Mac:
#   openssl rand -hex 32
#   openssl rand -base64 32

# =============================================================================
# üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê
# =============================================================================

# –î–ª—è Sales Bot —Å YooKassa:
# - –°–º. sales_bot/setup_yookassa.md
# - –ù—É–∂–µ–Ω –¥–æ–º–µ–Ω —Å HTTPS –¥–ª—è webhook
# - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx + Let's Encrypt

# –î–ª—è Master Bot:
# - –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ Telegram
# - –°–º. master_bot/README.md

# –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
# - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
# - –°–º. docs/sentry_setup.md

# =============================================================================
# ‚ùì –ü–û–ú–û–©–¨
# =============================================================================

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
# - README.md - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
# - DEPLOYMENT.md - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
# - OPTIMIZATION_GUIDE.md - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (188s ‚Üí 8s)
# - SCALING_GUIDE.md - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 100+ –∫–ª–∏–µ–Ω—Ç–æ–≤

# Telegram:
# - @YourSupportUsername

# =============================================================================
