version: '3.8'

# ü™ü Windows Docker Desktop Override Configuration
# 
# –≠—Ç–æ—Ç —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö docker-compose.yml
# –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Master Bot –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Docker –Ω–∞ Windows
#
# ‚öôÔ∏è –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
# 1. Docker Desktop ‚Üí Settings ‚Üí General
# 2. –í–∫–ª—é—á–∏—Ç—å: "Expose daemon on tcp://localhost:2375 without TLS"
# 3. Apply & Restart
#
# –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Master Bot —Å–º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–æ—Ç–æ–≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ!

services:
  bot-master:
    environment:
      # Windows Docker Desktop –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TCP –≤–º–µ—Å—Ç–æ Unix socket
      DOCKER_HOST: tcp://host.docker.internal:2375
    
    # –£–±–∏—Ä–∞–µ–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Unix socket (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows)
    volumes:
      - ./logs:/app/logs
      # Docker socket –ù–ï –Ω—É–∂–µ–Ω –Ω–∞ Windows - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è TCP

# üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:
# - TCP –±–µ–∑ TLS –Ω–µ–±–µ–∑–æ–ø–∞—Å–µ–Ω –≤ production
# - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
# - –í production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Linux + Unix socket
#
# üöÄ –ü–†–û–í–ï–†–ö–ê:
# docker exec -it booking-bot-master python -c "import docker; print(docker.from_env().version())"
