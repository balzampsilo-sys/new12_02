# Bot Pool System - –°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±–æ—Ç–æ–≤

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø—É–ª–∞ –≥–æ—Ç–æ–≤—ã—Ö –±–æ—Ç–æ–≤ –¥–ª—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏** (5-10 —Å–µ–∫—É–Ω–¥) –≤–º–µ—Å—Ç–æ –¥–æ–ª–≥–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PostgreSQL + Redis + 10 Bot Containers     ‚îÇ
‚îÇ  –í—Å–µ –±–æ—Ç—ã –≤ —Ä–µ–∂–∏–º–µ WAITING                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ö–ª–∏–µ–Ω—Ç –ø–æ–∫—É–ø–∞–µ—Ç —á–µ—Ä–µ–∑ Sales Bot            ‚îÇ
‚îÇ  ‚Ä¢ –°–æ–∑–¥–∞—ë—Ç –±–æ—Ç–∞ (@BotFather)                ‚îÇ
‚îÇ  ‚Ä¢ –î–∞—ë—Ç —Ç–æ–∫–µ–Ω                               ‚îÇ
‚îÇ  ‚Ä¢ –û–ø–ª–∞—á–∏–≤–∞–µ—Ç                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Sales Bot ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä    ‚îÇ
‚îÇ  ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ Redis          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (5 —Å–µ–∫)    ‚îÇ
‚îÇ  ‚Üí –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –±–æ—Ç–∞                          ‚îÇ
‚îÇ  ‚Üí —Å–æ–∑–¥–∞—ë—Ç PostgreSQL schema                ‚îÇ
‚îÇ  ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–ª–Ω—É—é –ª–æ–≥–∏–∫—É                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ                ‚îÇ
‚îÇ  üéâ –í–∞—à –±–æ—Ç –≥–æ—Ç–æ–≤! @your_bot                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚ö° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± | Bot Pool |
|---------------|---------------|----------|
| –í—Ä–µ–º—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ | 60-120 —Å–µ–∫ | **5-10 —Å–µ–∫** |
| –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç Docker API | ‚úÖ –í—ã—Å–æ–∫–∞—è |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å | Deploy Worker –Ω–∞ —Ö–æ—Å—Ç–µ | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | –¢—Ä–µ–±—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚úÖ –õ–µ–≥–∫–æ (–ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã) |
| –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ | –≠–∫–æ–Ω–æ–º–Ω–æ | –ë–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ |

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/balzampsilo-sys/new12_02.git
cd new12_02
git checkout feature/bot-pool
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env

```bash
cp .env.example .env
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
# PostgreSQL
POSTGRES_PASSWORD=YourSecurePassword123!

# Sales Bot (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
BOT_TOKEN_SALES=123456:ABC-your-sales-bot-token
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É

```bash
chmod +x start_pool.sh
./start_pool.sh
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

```bash
# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose -f docker-compose.pool.full.yml ps

# –õ–æ–≥–∏ –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞
docker-compose -f docker-compose.pool.full.yml logs bot-pool-1

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# üïê BOT CONTAINER STARTED IN WAITING MODE
# ‚è≥ Waiting for configuration from Sales Bot...
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
new12_02/
‚îú‚îÄ‚îÄ main_pool.py                    # –ë–æ—Ç —Å —Ä–µ–∂–∏–º–æ–º –æ–∂–∏–¥–∞–Ω–∏—è
‚îú‚îÄ‚îÄ automation/
‚îÇ   ‚îî‚îÄ‚îÄ bot_pool_manager.py        # –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—É–ª–∞ –±–æ—Ç–æ–≤
‚îú‚îÄ‚îÄ docker-compose.pool.full.yml   # 10 –±–æ—Ç–æ–≤ + –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ start_pool.sh                  # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ BOT_POOL_SETUP.md         # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README_POOL.md                # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. main_pool.py

–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞ —Å –¥–≤—É–º—è —Ä–µ–∂–∏–º–∞–º–∏:
- **WAITING** - –æ–∂–∏–¥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Redis
- **ACTIVE** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–æ—Ç –∫–ª–∏–µ–Ω—Ç–∞

### 2. bot_pool_manager.py

–ú–µ–Ω–µ–¥–∂–µ—Ä –ø—É–ª–∞ —Å –º–µ—Ç–æ–¥–∞–º–∏:
- `find_free_bot()` - –Ω–∞–π—Ç–∏ —Å–≤–æ–±–æ–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `activate_bot()` - –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `get_pool_status()` - –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—É–ª–∞
- `deactivate_bot()` - –≤–µ—Ä–Ω—É—Ç—å –±–æ—Ç –≤ –ø—É–ª

### 3. docker-compose.pool.full.yml

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å:
- PostgreSQL 16
- Redis 7
- 10 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –±–æ—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ WAITING

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –±–æ—Ç–∞ (–∏–∑ Sales Bot)

```python
from automation.bot_pool_manager import BotPoolManager

pool_manager = BotPoolManager(pool_size=10)

# 1. –ù–∞–π—Ç–∏ —Å–≤–æ–±–æ–¥–Ω—ã–π –±–æ—Ç
free_bot = await pool_manager.find_free_bot()
# {'container_id': 'booking-bot-pool-3', 'pool_id': '3'}

# 2. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
await pool_manager.activate_bot(
    container_id=free_bot['container_id'],
    bot_token='123456:ABC...',
    admin_telegram_id=987654321,
    client_id='client_003',
    company_name='–°–∞–ª–æ–Ω –ê–Ω–Ω—ã'
)

# 3. –ë–æ—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥!
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—É–ª–∞

```python
status = await pool_manager.get_pool_status()
print(f"–°–≤–æ–±–æ–¥–Ω–æ: {status['waiting']}/10")
print(f"–ó–∞–Ω—è—Ç–æ: {status['active']}/10")

for bot in status['bots']:
    print(f"Bot #{bot['pool_id']}: {bot['status']}")
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ß–µ—Ä–µ–∑ Docker

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.pool.full.yml ps

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
docker-compose -f docker-compose.pool.full.yml logs -f bot-pool-5

# –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
docker-compose -f docker-compose.pool.full.yml logs | grep "BOT ACTIVATED"
```

### –ß–µ—Ä–µ–∑ Redis

```bash
docker exec -it booking-redis redis-cli

# –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã
KEYS bot_status:*

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å
GET bot_status:booking-bot-pool-3
# {"status":"active","client_id":"client_003"}
```

### –ß–µ—Ä–µ–∑ Master Bot

```
/pool - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –ø—É–ª–∞

üèä –°–¢–ê–¢–£–° –ü–£–õ–ê –ë–û–¢–û–í

üìä –í—Å–µ–≥–æ: 10
‚ö™ –°–≤–æ–±–æ–¥–Ω–æ: 7
üü¢ –ó–∞–Ω—è—Ç–æ: 3
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Multi-tenancy

- **PostgreSQL schemas**: –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π schema (`client_001`, `client_002`, ...)
- **Redis –ø—Ä–µ—Ñ–∏–∫—Å—ã**: FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã (`client_001:fsm:*`)
- **Rate limiting**: Per-client –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (`client_001:ratelimit:*`)

### –¢–æ–∫–µ–Ω—ã

- –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Redis —Å **TTL=300 —Å–µ–∫**
- –£–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£–≤–µ–ª–∏—á–∏—Ç—å –ø—É–ª –¥–æ 20 –±–æ—Ç–æ–≤

1. –î–æ–±–∞–≤–∏—Ç—å –≤ `docker-compose.pool.full.yml`:
```yaml
bot-pool-11:
  build: .
  container_name: booking-bot-pool-11
  hostname: booking-bot-pool-11
  command: python main_pool.py
  environment:
    BOT_POOL_ID: "11"
  # ...
```

2. –û–±–Ω–æ–≤–∏—Ç—å `BotPoolManager`:
```python
pool_manager = BotPoolManager(pool_size=20)
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
./start_pool.sh
```

## üõ† Troubleshooting

### –ë–æ—Ç –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker ps | grep bot-pool-3

# 2. –õ–æ–≥–∏
docker logs booking-bot-pool-3

# 3. Redis
docker exec -it booking-redis redis-cli
GET bot_config:booking-bot-pool-3
```

### –í—Å–µ –±–æ—Ç—ã –∑–∞–Ω—è—Ç—ã

```bash
# –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –±–æ—Ç–æ–≤ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
docker-compose -f docker-compose.pool.full.yml restart bot-pool-1
```

### Redis –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
docker ps | grep redis
docker logs booking-redis

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose -f docker-compose.pool.full.yml restart redis
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ](docs/BOT_POOL_SETUP.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](docs/ARCHITECTURE.md)
- [API Reference](docs/API.md)

## üéØ Production —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å –ø—É–ª –¥–æ **50-100 –±–æ—Ç–æ–≤** –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** (Kubernetes)
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (Prometheus + Grafana)
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **–∞–ª–µ—Ä—Ç—ã** –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—É–ª–∞ > 80%
5. ‚úÖ **–ë—ç–∫–∞–ø—ã PostgreSQL** –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
6. ‚úÖ **Redis Sentinel** –¥–ª—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º: https://github.com/balzampsilo-sys/new12_02/issues

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** –§–µ–≤—Ä–∞–ª—å 2026  
**–ê–≤—Ç–æ—Ä:** balzampsilo-sys
