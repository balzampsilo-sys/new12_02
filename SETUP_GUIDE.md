# üìñ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –ù–ê–ß–ò–ù–ê–Æ–©–ò–•

> **–î–ª—è –∫–æ–≥–æ —ç—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –î–ª—è –ª—é–¥–µ–π –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –±–æ—Ç–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤.

---

## üéØ –ß–¢–û –ú–´ –ë–£–î–ï–ú –î–ï–õ–ê–¢–¨

–í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å:
1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä/—Å–µ—Ä–≤–µ—Ä
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–ø–ª–∞—Ç—ã
4. ‚úÖ –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å/–∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–æ–≤

**–í—Ä–µ–º—è:** ~30-60 –º–∏–Ω—É—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

---

## ‚öôÔ∏è –ß–ê–°—Ç—å 1: –ü–û–î–ì–û–¢–û–í–ö–ê –°–ï–†–í–ï–†–ê

### üñ•Ô∏è **–®–ê–ì 1: –ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä**

**–ß—Ç–æ —ç—Ç–æ:** –≠—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7.

**–ì–¥–µ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å:**
- [Timeweb](https://timeweb.cloud) - –æ—Ç 200‚ÇΩ/–º–µ—Å—è—Ü
- [Selectel](https://selectel.ru) - –æ—Ç 300‚ÇΩ/–º–µ—Å—è—Ü
- [DigitalOcean](https://digitalocean.com) - –æ—Ç $6/–º–µ—Å—è—Ü

**–ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å:**
- **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** Ubuntu 22.04 LTS
- **–î–ª—è 1-5 –∫–ª–∏–µ–Ω—Ç–æ–≤:** 2GB RAM, 1 CPU
- **–î–ª—è 5-10 –∫–ª–∏–µ–Ω—Ç–æ–≤:** 4GB RAM, 2 CPU
- **–î–ª—è 10-16 –∫–ª–∏–µ–Ω—Ç–æ–≤:** 8GB RAM, 4 CPU

**–ü–æ—Å–ª–µ –∞—Ä–µ–Ω–¥—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:**
- IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123.45.67.89`)
- –õ–æ–≥–∏–Ω: `root`
- –ü–∞—Ä–æ–ª—å: `–≤–∞—à_–ø–∞—Ä–æ–ª—å`

---

### üîê **–®–ê–ì 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É**

#### **–î–ª—è Windows:**

1. –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É [PuTTY](https://www.putty.org/)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ PuTTY
3. –í –ø–æ–ª–µ "Host Name" –≤–≤–µ–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
4. –ù–∞–∂–º–∏—Ç–µ "Open"
5. –í–≤–µ–¥–∏—Ç–µ:
   - Login: `root`
   - Password: `–≤–∞—à_–ø–∞—Ä–æ–ª—å` (–ø–∞—Ä–æ–ª—å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)

#### **–î–ª—è Mac/Linux:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ "–¢–µ—Ä–º–∏–Ω–∞–ª" (Finder ‚Üí –ü—Ä–æ–≥—Ä–∞–º–º—ã ‚Üí –£—Ç–∏–ª–∏—Ç—ã ‚Üí –¢–µ—Ä–º–∏–Ω–∞–ª)
2. –í–≤–µ–¥–∏—Ç–µ:
   ```bash
   ssh root@123.45.67.89
   ```
   (–∑–∞–º–µ–Ω–∏—Ç–µ `123.45.67.89` –Ω–∞ –≤–∞—à IP)
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è)

‚úÖ **–í—ã –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å!** –í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
root@server:~#
```

---

### üì¶ **–®–ê–ì 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker**

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–æ–≤ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏** (–Ω–∞–∂–∏–º–∞–π—Ç–µ Enter –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π):

```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
sudo apt update
sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Compose
sudo apt install docker-compose -y

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker --version
docker-compose --version
```

‚úÖ **–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```
Docker version 24.x.x
docker-compose version 1.29.x
```

---

### üêç **–®–ê–ì 4: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python 3.11
sudo apt install python3.11 python3-pip -y

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
python3 --version
```

‚úÖ **–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:** `Python 3.11.x`

---

### üì• **–®–ê–ì 5: –°–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç**

```bash
# –°–∫–∞—á–∞—Ç—å –∫–æ–¥
git clone https://github.com/balzampsilo-sys/new12_02.git

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É
cd new12_02

# –°–æ–∑–¥–∞—Ç—å –Ω—É–∂–Ω—ã–µ –ø–∞–ø–∫–∏
mkdir clients redis_data logs

# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞–º
chmod +x scripts/*.sh
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ü—Ä–æ–µ–∫—Ç —Å–∫–∞—á–∞–Ω.

---

## üöÄ –ß–ê–°–¢–¨ 2: –ü–ï–†–í–´–ô –ó–ê–ü–£–°–ö

### üî¥ **–®–ê–ì 6: –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—â–∏–π Redis**

**–ß—Ç–æ —ç—Ç–æ:** –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ—Ö –±–æ—Ç–æ–≤.

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis (–û–î–ò–ù –†–ê–ó –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)
docker-compose -f docker-compose.redis.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
docker ps | grep redis
```

‚úÖ **–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
booking-bot-redis-shared   Up   6379/tcp
```

---

### ü§ñ **–®–ê–ì 7: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞**

#### **–ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞:**

1. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞** (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather –≤ Telegram):
   - –ö–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç `/newbot` –±–æ—Ç—É @BotFather
   - –ü—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞
   - –ü–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –≤–∏–¥–∞: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`

2. **Telegram ID –∫–ª–∏–µ–Ω—Ç–∞** (–ø–æ–ª—É—á–∏—Ç—å —É @userinfobot):
   - –ö–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç `/start` –±–æ—Ç—É @userinfobot
   - –ü–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π ID (—á–∏—Å–ª–æ –≤–∏–¥–∞: `987654321`)

3. **–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã –ê–Ω–Ω—ã")

#### **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:**

```bash
# –ó–ê–ú–ï–ù–ò–¢–ï –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ!
python3 automation/deploy_manager.py \
  "123456789:ABCdefGHIjklMNOpqrsTUVwxyz" \
  987654321 \
  --company "–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã –ê–Ω–Ω—ã"
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**
1. ‚è≥ –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π Redis DB
2. ‚è≥ –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
3. ‚è≥ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. ‚è≥ –°–æ–±–∏—Ä–∞–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
5. ‚è≥ –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞

‚úÖ **–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
‚úÖ ===================================================
‚úÖ –ë–û–¢ –£–°–ü–ï–®–ù–û –†–ê–ó–í–ï–†–ù–£–¢!
‚úÖ ===================================================

   üè™ –ö–æ–º–ø–∞–Ω–∏—è: –°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã –ê–Ω–Ω—ã
   üÜî Client ID: xxxx-yyyy-zzzz
   üê≥ Container: bot-client-xxxx
   üìä Redis DB: 0
```

---

### üéâ **–®–ê–ì 8: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç**

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –±–æ—Ç—ã
docker ps

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# - booking-bot-redis-shared (Redis)
# - bot-client-xxxx (–≤–∞—à –±–æ—Ç)

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
docker logs bot-client-xxxx -f
```

**–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
INFO - Bot started successfully
INFO - Polling started
```

‚úÖ **–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!** –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –Ω–∞–∂–∞—Ç—å `/start`.

---

## üîÑ –ß–ê–°–¢–¨ 3: –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø

### ‚è∞ **–®–ê–ì 9: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–æ–∫**

**–ß—Ç–æ —ç—Ç–æ:** –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∫–∞–∂–¥—ã–π —á–∞—Å –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —É –∫–æ–≥–æ –∏—Å—Ç–µ–∫–ª–∞ –ø–æ–¥–ø–∏—Å–∫–∞, –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –±–æ—Ç–æ–≤.

```bash
# –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä cron
crontab -e

# –ï—Å–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä, –≤—ã–±–µ—Ä–∏—Ç–µ nano (—Ü–∏—Ñ—Ä–∞ 1)
```

**–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * cd /root/new12_02 && python3 automation/check_subscriptions.py >> logs/subscription_check.log 2>&1
```

**–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ nano:**
1. –ù–∞–∂–º–∏—Ç–µ `Ctrl + X`
2. –ù–∞–∂–º–∏—Ç–µ `Y` (yes)
3. –ù–∞–∂–º–∏—Ç–µ `Enter`

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π —á–∞—Å —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

### üìä **–®–ê–ì 10: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É**

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º
python3 -c "
from automation.subscription_manager import SubscriptionManager
manager = SubscriptionManager()
stats = manager.get_statistics()
print(f'''\nüìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:\n
–í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤: {stats['total_clients']}
–ê–∫—Ç–∏–≤–Ω—ã—Ö: {stats['active_clients']}
–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: {stats['suspended_clients']}
–°–≤–æ–±–æ–¥–Ω–æ Redis DB: {stats['available_redis_dbs']}
–î–æ—Ö–æ–¥ –∑–∞ –º–µ—Å—è—Ü: {stats['monthly_revenue']} —Ä—É–±.\n''')
"
```

---

## üë• –ß–ê–°–¢–¨ 4: –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–õ–ò–ï–ù–¢–ê–ú–ò

### ‚ûï **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞**

```bash
# –ü–æ–ª—É—á–∏–ª–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞: —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ + Telegram ID
python3 automation/deploy_manager.py \
  "–¢–û–ö–ï–ù_–ë–û–¢–ê" \
  TELEGRAM_ID \
  --company "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏"

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –ù–∞–π–¥–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–π Redis DB (1, 2, 3...)
# - –†–∞–∑–≤–µ—Ä–Ω–µ—Ç—Å—è –±–æ—Ç
# - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 30 –¥–Ω–µ–π
```

---

### ‚è∏Ô∏è **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–µ–æ–ø–ª–∞—Ç–∞)**

```bash
# –£–∑–Ω–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker ps

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker stop bot-client-xxxx
```

---

### ‚ñ∂Ô∏è **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ —Å–Ω–æ–≤–∞ (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã)**

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker start bot-client-xxxx

# –ò–ª–∏ —á–µ—Ä–µ–∑ Python (–ø—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É):
python3 -c "
from automation.subscription_manager import SubscriptionManager
manager = SubscriptionManager()
manager.add_payment('CLIENT_ID', 1500.0, payment_method='–∫–∞—Ä—Ç–∞')
print('‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–æ–¥–ª–µ–Ω–∞')
"

# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker start bot-client-xxxx
```

---

### üóëÔ∏è **–£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é**

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
cd clients/CLIENT_SHORT_ID
docker-compose down

# 2. –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É
cd ../..
rm -rf clients/CLIENT_SHORT_ID

# 3. –£–¥–∞–ª–∏—Ç—å –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python3 -c "
from automation.subscription_manager import SubscriptionManager
manager = SubscriptionManager()
manager.delete_client('FULL_CLIENT_ID')
print('‚úÖ –ö–ª–∏–µ–Ω—Ç —É–¥–∞–ª–µ–Ω')
"
```

---

### üìã **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤**

```bash
# –ü—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
docker ps

# –ò–ª–∏ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–ø–æ–¥—Ä–æ–±–Ω–æ):
sqlite3 subscriptions.db "SELECT company_name, redis_db, subscription_status, subscription_expires_at FROM clients"
```

---

### üìù **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞**

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
docker logs bot-client-xxxx --tail 50

# –°–ª–µ–¥–∏—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs bot-client-xxxx -f

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–∂–µ–Ω–∏–µ: Ctrl + C
```

---

## üÜò –ß–ê–°–¢–¨ 5: –ß–ê–°–¢–´–ï –ü–†–û–ë–õ–ï–ú–´

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: "Cannot connect to Docker"**

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker
sudo systemctl start docker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker ps
```

---

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: "Redis not found"**

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis
docker-compose -f docker-compose.redis.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker ps | grep redis
```

---

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: "No available Redis DB"**

**–†–µ—à–µ–Ω–∏–µ:** –£ –≤–∞—Å —É–∂–µ 16 –∫–ª–∏–µ–Ω—Ç–æ–≤ (–º–∞–∫—Å–∏–º—É–º –¥–ª—è –æ–¥–Ω–æ–≥–æ Redis).

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
1. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ç–æ—Ä–æ–π Redis (—Å–º. DEPLOYMENT.md)

---

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram**

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker ps | grep bot-client

# –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker start bot-client-xxxx

# 2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
docker logs bot-client-xxxx --tail 100

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker restart bot-client-xxxx
```

---

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: "Permission denied"**

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –î–∞—Ç—å –ø—Ä–∞–≤–∞
sudo chmod +x automation/*.py
sudo chmod +x scripts/*.sh
```

---

## üí° –ß–ê–°–¢–¨ 6: –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

```bash
# –°–∫–æ–ª—å–∫–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–æ—Ç—ã
docker stats

# –°–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
df -h

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ Docker –æ–±—Ä–∞–∑—ã
docker system prune -a
```

---

### üîç **–ü–æ–∏—Å–∫**

```bash
# –ù–∞–π—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–æ–º–ø–∞–Ω–∏–∏
sqlite3 subscriptions.db "SELECT * FROM clients WHERE company_name LIKE '%–°–∞–ª–æ–Ω%'"

# –ù–∞–π—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ Telegram ID
sqlite3 subscriptions.db "SELECT * FROM clients WHERE admin_telegram_id = 987654321"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–ª–∞—Ç–µ–∂–∏ –∫–ª–∏–µ–Ω—Ç–∞
sqlite3 subscriptions.db "SELECT * FROM payments WHERE client_id = 'xxxx'"
```

---

### üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞**

```bash
# –°–∫–∞—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
cd new12_02
git pull origin main

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
for client in clients/*/; do
    cd "$client"
    docker-compose restart
    cd ../..
done
```

---

## üìû –ß–ê–°–¢–¨ 7: –ß–ï–ö–õ–ò–°–¢ –ï–ñ–ï–î–ù–ï–í–ù–´–ô

### ‚úÖ **–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ (5 –º–∏–Ω—É—Ç):**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ª–∏ –±–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
docker ps

# 2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫
tail -n 20 logs/subscription_check.log

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
python3 -c "from automation.subscription_manager import SubscriptionManager; manager = SubscriptionManager(); stats = manager.get_statistics(); print(f'–ê–∫—Ç–∏–≤–Ω—ã—Ö: {stats[\"active_clients\"]}, –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: {stats[\"suspended_clients\"]}')"
```

---

### ‚úÖ **–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é (10 –º–∏–Ω—É—Ç):**

```bash
# 1. –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cp subscriptions.db backups/subscriptions_$(date +%Y%m%d).db

# 2. –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ (>30 –¥–Ω–µ–π)
find logs/ -name "*.log" -mtime +30 -delete

# 3. –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y
```

---

## üéì –ß–ê–°–¢–¨ 8: –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

### üìö **–ì–¥–µ —É—á–∏—Ç—å—Å—è –¥–∞–ª—å—à–µ:**

1. **Docker:** [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ç—É—Ç–æ—Ä–∏–∞–ª](https://docs.docker.com/get-started/)
2. **Linux –∫–æ–º–∞–Ω–¥—ã:** [–®–ø–∞—Ä–≥–∞–ª–∫–∞](https://www.hostinger.com/tutorials/linux-commands)
3. **Git:** [Git –∑–∞ 15 –º–∏–Ω—É—Ç](https://try.github.io/)

---

### ü§ù **–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [README.md](./README.md), [DEPLOYMENT.md](./DEPLOYMENT.md), [AUTOMATION.md](./AUTOMATION.md)
- **GitHub Issues:** [–°–æ–∑–¥–∞—Ç—å —Ç–∏–∫–µ—Ç](https://github.com/balzampsilo-sys/new12_02/issues)

---

## ‚ùì FAQ

### **–í: –°–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å?**
–û: –î–æ 16 –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –æ–¥–∏–Ω Redis. –î–ª—è –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω—É–∂–µ–Ω –≤—Ç–æ—Ä–æ–π Redis.

### **–í: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –æ–±—ã—á–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ?**
–û: –î–∞, –Ω–æ –∫–æ–º–ø—å—é—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å 24/7. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä.

### **–í: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è?**
–û: Docker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ –±–æ—Ç—ã (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `restart: unless-stopped`).

### **–í: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏?**
–û: –≠—Ç–æ —Ç–æ–ª—å–∫–æ —É—á–µ—Ç. –°—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ —Å–∞–º–∏ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ.

### **–í: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ä–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏?**
–û: –î–∞, –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--days 60` (–Ω–∞–ø—Ä–∏–º–µ—Ä).

### **–í: –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é?**
–û: –ö–æ–ø–∏—Ä—É–π—Ç–µ `subscriptions.db` –∏ –ø–∞–ø–∫–∏ `clients/*`.

---

## üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!

–¢–µ–ø–µ—Ä—å –≤—ã —É–º–µ–µ—Ç–µ:
- ‚úÖ –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –±–æ—Ç–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–ø–ª–∞—Ç—ã
- ‚úÖ –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å/–∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–æ–≤
- ‚úÖ –°–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!** üöÄ

---

## üìñ –ö–†–ê–¢–ö–ê–Ø –®–ü–ê–†–ì–ê–õ–ö–ê

```bash
# === –û–°–ù–û–í–ù–´–ï –ö–û–ú–ê–ù–î–´ ===

# –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
python3 automation/deploy_manager.py "TOKEN" TELEGRAM_ID --company "Name"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
docker ps

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
docker stop bot-client-xxxx

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
docker start bot-client-xxxx

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker logs bot-client-xxxx -f

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
python3 -c "from automation.subscription_manager import SubscriptionManager; print(SubscriptionManager().get_statistics())"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –≤—Ä—É—á–Ω—É—é
python3 automation/check_subscriptions.py
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É —à–ø–∞—Ä–≥–∞–ª–∫—É!** üìå
